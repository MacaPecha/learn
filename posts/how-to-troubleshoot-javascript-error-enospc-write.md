---
title: How to troubleshoot npm ERR Error ENOSPC, write
author: macarena-pecha
tags: [tutorial, JavaScript, npm, troubleshooting]
publicationDate: October 25, 2021
description: Learn how to error handle npm ERR Error ENOSPC, write
image: https://storage.googleapis.com/sourcegraph-assets/learn/headers/sourcegraph-learn-header.png
imageAlt: Sourcegraph Learn
browserTitle: npm ERR Error ENOSPC, write in JavaScript error handling
type: posts
---

If you are working in JavaScript, and receive the following output, means that there is no space on the drive. This is likely to be a limit on the number of file watches. The system has a limit to how many files can be watched by a user. **npm** or a process controlled by it is watching too many files. 

<Highlighter
input='Error: ENOSPC.'
language='bash'
/>

## Reproducing the error

This error can occur with Node.js when uploading files to the server. When starting file upload to server, Node.js process hangs and show the error.
You can reproduce it opening multiple NodeJS or ReactJS projects for example.

## Solutions

### Clearing npm cache

A simple way that can solve the problem is:

<Highlighter
input='npm cache clear'
language='bash'
/>

### Increasing the maximum number of watches a user can have

On Linux, the development server uses [inotify](https://en.wikipedia.org/wiki/Inotify) to implement hot-reloading. The inotify API allows the development server to watch files and be notified when they change.

The default inotify file watch limit varies from distribution to distribution (8192 on Fedora). The needs of the development server often exceeds this limit.

You can run out of watches pretty quickly if you have Grunt running with other programs like Dropbox.

The best approach is to try increasing the file watch limit temporarily, then making that a permanent configuration change if you're happy with it. Note, though, that this changes your entire system's configuration, not just node.

This command increases the maximum amount of watches a user can have.
Updating max_user_watches on the build node can fix it forever.

Run the below command to view your current limit:

<Highlighter
input='sysctl fs.inotify.max_user_watches'
language='bash'
/>

To temporarily set a new limit:

<Highlighter
input='# this limit will revert after reset
sysctl fs.inotify.max_user_watches=524288 && sudo sysctl -p
# now restart the server and see if it works'
language='bash'
/>

To set a permanent limit:

<Highlighter
input='echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf && sudo sysctl -p'
language='bash'
/>

If you want know how [Increase the amount of inotify](https://github.com/guard/listen/wiki/) watchers only click on link.

For **Arch Linux** add this line to ```/etc/sysctl.d/99-sysctl.conf```:

<Highlighter
input='fs.inotify.max_user_watches=524288'
language='bash'
/>

Then execute:

<Highlighter
input='sysctl --system'
language='bash'
/>

This will also persist across reboots.

### Using a different temp folder

**Tmp** or **temp** generally means some kind of temporary storage, which is auto generated by program (mostly per one session)

You can configure ```npm``` to use a different temp folder by setting ```npm config set tmp /path/to/some/other/dir```.

### Deleting the temp folder content

Temporary files are stored by default in the folder specified by the tmp config. Temp files are given a unique folder under this root for each run of the program, and are deleted upon successful exit.

You can delete everything out of the ```npm/tmp``` folder.

## Learn more

Search across open source JavaScript repositories that have the `npm ERR! Error: ENOSPC, write` to understand the message more.

<SourcegraphSearch query="npm ERR! Error: ENOSPC, write" patternType="literal"/>

Check out more Sourcegraph Learn tutorials on [JavaScript](https://learn.sourcegraph.com/tags/javascript).
